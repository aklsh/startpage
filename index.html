<!DOCTYPE html>
<html>

    <head>
        <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap" rel="stylesheet">

        <title>pugal@chrome &gt; newtab</title>

        <style>
            html {
                align-items: center;
                background-color: #434C5E;
                color: #D8DEE9;
                display: flex;
                font: 15px/1 Fira Code, monospace;
                height: 100%;
                justify-content: center;
            }

            body {
                background-color: #2E3440;
                color: #D8DEE9;
                line-height: 1.2em;
                display: flex;
                flex-direction: column;
                height: 30em;
                width: 60em;
                padding: 2.2em;
            }

            p {
                margin: 0;
            }

            p span {
                color: #81A1C1;
                cursor: default;
            }

            a {
                color: inherit;
                text-decoration: none;
                transition: color 0.2s ease;
            }

            a:focus,
            a:hover {
                color: #ECEFF4;
                text-decoration: underline;
            }

            ul {
                list-style: none;
                margin: 0;
                padding: 0;
                cursor: default;
            }

            nav {
                display: grid;
                grid-template-columns: auto auto auto auto auto auto;
                padding: 1.4em 0;
            }

            ul:nth-child(5n) li:first-child {
                color: #B48EAD;
            }
            ul:nth-child(5n + 1) li:first-child {
                color: #BF616A;
            }

            ul:nth-child(5n + 2) li:first-child {
                color: #D08770;
            }

            ul:nth-child(5n + 3) li:first-child {
                color: #EBCB8B;
            }

            ul:nth-child(5n + 4) li:first-child {
                color: #A3BE8C;
            }

            li:first-child {
                font-weight: bold;
            }

            li:last-child {
                margin: 0 0 1em;
            }

            ::-webkit-scrollbar {
                width: 8px;
                height: 8px;
            }
            ::-webkit-scrollbar-track {
                background: transparent;
            }
            ::-webkit-scrollbar-thumb {
                background: #BF616A;
            }
            .notesList::-webkit-scrollbar-track-piece:start {
                background: transparent;
                margin-top: 5px;
            }
            .notesList::-webkit-scrollbar-track-piece:end {
                background: transparent;
                margin-bottom: 5px;
            }

            input,
            textarea {
                background: #2E3440;
                color: #81A1C1;
                width: 80%;
                font: 16px/1 Fira Code, monospace;
                outline: 10px;
                border: 1px;
                border-radius: 0px;
                border-bottom: 1px solid #81A1C1;
            }
            textarea:focus,
            input:focus {
                color: #D8DEE9;
                outline: 10px;
                border: 1px;
                width: 80%;
                border-bottom: 1px solid #81A1C1;
            }
            .notesList {
                height: 200px;
                overflow-y: auto;
            }
            .notesList div,
            .notes {
                background-color: #2E3440;
                font: 16px/1 Fira Code, monospace;
                color: white;
                border: 2px solid #434C5E;
                width: 85%;
                padding: 10px 10px;
                margin: 5px 0px;
                transition-duration: 0.1s;
                outline: none;
                text-align: left;
                overflow: hidden;
                white-space: nowrap;
            }
            .notesList span {
                display:inline-block;
                width:80%;
                overflow-x:hidden;
                padding:2px;
                cursor: pointer;
            }
            .notesList div:hover,
            active {
                background-color: #434C5E;
            }
            .notes:hover,
            active {
                background-color: #434C5E;
            }
            .notesList button {
                outline: none;
                background-color: transparent;
                float: right;
                color: white;
                z-index: 2;
                border: none;
            }
        </style>
    </head>

    <body>
        <p><span>web</span> &gt; ls --favourites</p>
        <nav>
            <ul>
                <li>writing</li>
                <li><a href="https://docs.google.com/">gSuite</a></li>
                <li><a href="https://www.overleaf.com/project">overleaf</a></li>
            </ul>
            <ul>
                <li>code</li>
                <li><a href="https://github.com">github</a></li>
                <li><a href="https://www.stackoverflow.com">stackoverflow</a></li>
            </ul>
            <ul>
                <li>insti</li>
                <li><a href="https://netaccess.iitm.ac.in">proxy</a></li>
                <li><a href="https://courses.iitm.ac.in">acads</a></li>
            </ul>
            <ul>
                <li>knowledge</li>
                <li><a href="https://ieeexplore.ieee.org/Xplore/home.jsp">ieeeXplore</a></li>
                <li><a href="https://www.sci-hub.tw">sci-hub</a></li>
                <li><a href="https://www.libgen.is">libgen</a></li>
            </ul>
            <ul>
                <li>mail</li>
                <li><a href="https://mail.google.com/mail/u/1/#inbox">personal</a></li>
                <li><a href="https://mail.google.com/mail/u/0/#inbox">school</a></li>
            </ul>
            <ul>
                <li>subreddits</li>
                <li><a href="https://www.reddit.com/r/vim/">r/vim</a></li>
                <li><a href="https://www.reddit.com/r/androidthemes/">r/androidthemes</a></li>
                <li><a href="https://www.reddit.com/r/unixporn/">r/up</a></li>
            </ul>
        </nav>

        <form action="https://www.google.com/search" class="searchform" method="get" name="searchform">
            <p><span>web &gt; search &gt; </span><input class="form-control search" name="q" placeholder="query"  type="text" autofocus></p>
        </form>
        <div id="notepad" style="margin-top:2.5em">
            <div id="leftColumn" style="width:25%;float:left">
                <div id="newNote" style="height:40px">
                    <button class="notes" style="width:20%;height:30px;padding:5px;text-align:center" onclick="newNote()">+</button>
                    <span style="margin-left:20px">Quick notes</span>
                </div>
                <div id="noteslist" class="notesList">
                </div>
            </div>
            <div id="rightColumn" style="width:73%;float:left;padding-left:2%">
                <iframe id="noteFrame" src="frame.html" height=227px width=95% style="margin-top:4px;border:2px solid #434C5E;display:block"></iframe>
            </div>
        </div>
        <script type="text/javascript">
            var rules = document.styleSheets[1].cssRules;
            var colors = ['B48EAD', 'BF616A', 'D08770', 'EBCB8B', 'A3BE8C']
            var randomColor = colors[Math.floor(Math.random() * colors.length)];
            for (var i = 0; i < rules.length; i++)
                if (rules[i].selectorText == '::-webkit-scrollbar-thumb'){
                    rules[i].style.background = '#'+randomColor;
                    break;
                }
            document.getElementById('noteFrame').src += "?color=" + randomColor;
        </script>
        <script>
            var noteData = {}
            var currentlyOpen = {}
            function test() {
                console.log('hi');
            }
            function addButtons(refresh) {
                if (!('noteData' in localStorage) || localStorage.noteData.length === 2) {
                    let noteData = {
                        note0: {name:'Quick note', content:'# Quick note\n - Press edit button to edit.\n - Press save after editing *(else won\'t be saved)*.\n - All note data is saved offline in your browser.\n - Supports styling with [markdown](https://www.markdownguide.org/).\n - [For more info](https://github.com/mukheshpugal/startpage).\n> This is a quote\n\nThe following is a table:\n|Title 1|Title 2|\n|--|--|\n|content|some other content|\n\n`A line of code`\n\nHere is an emoji for you: :heart:. Find more [here](https://gist.github.com/rxaviers/7360908).\n'}
                    }
                    localStorage.setItem('noteData', JSON.stringify(noteData));
                }
                noteData = JSON.parse(localStorage.getItem('noteData'));
                let buttons = '';
                Object.keys(noteData).forEach((key) => {
                    buttons += '<div><span onclick="openNote(\''+String(key)+'\')">'+noteData[key].name+'</span><button onclick="delNote(\''+String(key)+'\')">x</button></div>';
                })
                document.getElementById('noteslist').innerHTML = buttons;
                if (refresh)
                    openNote(Object.keys(noteData)[0]);
            }
            window.onmessage = function(e){
                if (e.data == 'refresh')
                    addButtons(false);
            }
            function openNote(key) {
                document.getElementById('noteFrame').src = document.getElementById('noteFrame').src.split('&')[0] + '&noteId=' + String(key);
                currentlyOpen = key;
            }
            function delNote(key) {
                delete noteData[key];
                localStorage.setItem('noteData', JSON.stringify(noteData));
                addButtons((currentlyOpen == key));
            }
            function newNote() {
                let keys = Object.keys(noteData);
                var i = 0;
                while ('note'+String(i) in noteData)
                    i++;
                noteData['note'+String(i)] = {name:'New note', content:'# New note'};
                localStorage.setItem('noteData', JSON.stringify(noteData));
                addButtons(false);
                openNote('note'+String(i));
            }
            addButtons(true);
        </script>
    </body>

</html>
